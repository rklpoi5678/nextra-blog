
## 비유
npm은 마치 똑같은 레고 블록 세트를 통쨰로 복사해서 넣는 것과 같다. 여러 상자에 같은 부품을 넣으면 디스크 공간도 많이 들고, 똑같은 작업을 반복

pnpm은 한 곳에 단 하나의 레고 블록 세트를 만들어 놓고, 각 상자에는 그 세트를 가리키는 '링크'만 넣어주는 방식 결국 필요한 부품은 한 번만 저장되고, 각 상자에서는 그걸 참조하게 만들어서 공간도 절약되고 설치도 휠씬 빨라진다.

## 결론
모두 자바스크립트 패키지 매니저지만, pnpm은 내부적으로 모든 패키지를 한 번만 저장한 후 하드 링크나 심볼릭 링크를 이용해 각 프로젝트에 연결해 주기 때문에, 같은 의존성이 여러 프로젝트에 중복되어 설치되는 문제를 해결할수있다.

## pnpm은
속도향상: 중복 파일 복사가 없으므로 설치 속도가 더 빠르고
디스크 공간 절약: 동일한 패키지가 한 번만 저장되기 때문에 불필요한 용량 낭비를 줄인다

그래서 핵심적인 아이디어는 한 번 만들고 여러 번 쓰는 공용 저장소와 매번 새롭게 만드는일(npm)의 차이다.

### 저장방식
pnpm install 또는 pnpm add를 하면 현재 프로젝트(혹은 모노레포 패키지)에 node_modules폴더가 생성된다. 하지만 내용이 완전히 설치되어 있지는 않는다.(symlink 심볼릭 링크)로 연결돼 있다.
```Sh
apps/web/node_modules/react → ~/.pnpm-store/.../react@18.2.0
```
전역 저장소: .pnpm_store(중앙 캐시 저장소)
진짜 패키지 파일(.tgz풀린 내용)은 여기에 저장됨
```bash
~./.pnpm-store/v3/
```
여러 프로젝트가 같은 버전의 패키지를 쓰면 1번만 다운로드 -> 여러 곳에 링크로 연결

node_modules 실제 사용하는 위치(심볼릭 링크)
.pnpm_store 진짜 패키지 내용이 있는 캐시 저장소
-> 이 방식이 npm,yarn과 다르게 디스크도 덜 먹고, 설치 속도도 미친 듯이 빠르다.

#### 저장소 확인
```bash
pnpm store path
```


## 모듈이란
main.js파일이 몇천줄이 넘어가게 두지않고 이것을 여러파일로 어려기능별로 ... 모듈화(Modularization)을 한다. 그리고 여러파일하나하나을 모듈(Module)이라고한다.
- 코드를 효율적으로 관리할수있음
- 다른 프로그램에서 재사용할 수 있음
- 이미 만들어진 모듈도 많음
## Node.js
노드.js는 자바스크립트를 실행하는 환경이다. html파일 -> script태그로연결 html파일을 웹 브라우저로 여는 방식, 하지만 node.js를 설치하면 웹브라우저 없이도 자바스크립트 코드를 실행할 수 있다.![[Pasted image 20250819103534.png]]
> 다른것들도 개발하기위해 Node.js가 등장함 -> 서버나 모바일 앱, 데스크톱 앱 같은 것도 만들 수 있다.
> 또한 Node.js에서 서드파티 모듈을 사용하기가 정말 편하다.
> npm이라는 툴을 이용해서 쉽게 설치하고 관리할 수 있습니다
> 서드파티 모듈과 Node.js가 제공하는 기능들을 활용하고, 개발이 완료되면 최종 결과물을 빌드해서 결과물을 빌드해서 결과물만 웹 브라우저에서 실행하는 것

## import와 export
mjs확장자는 모듈문법을 사용할수있는 확장자이며 나머지는 일반 자바스크립트랑 다르지않다.
```js
export PI = 3.14;

export function add(a,b) {
	return a+b;
}
```

```js
import { PI, add } from './calculator.mjs';
```

### **default export**
```js
//default export 시킨것은 중괄호 없이 가져올수있다
// 또한 add말고 다른 이름으로 가져올수있다.
// 모듈은 하나이상의 export default를 가질수없다.
export PI = 3.14;

export default function add(a,b) {
	return a+b;
}

// ---
// 디폴트 임포트: add 네임드 임포트: { PI }
import add, { PI } from './calculator.mjs'
```

**named export vs default export**
파일을 하나하나 임포트시킬려면 네임드
모든 함수를 담고있는함수가 있을때 디폴드 익스포트 하면 다른 모듈에서 그 함수를 실행할수있다.

```js

/** 필요에 따라 네임드 익스포트를 사용할수있다. */
function PI() {
...
}
export function add() {
...
}
function substract() {
...
}
export function multyply() {
...
}
function divide() {
...
}


const calculator = {
	PI,
	add,
	substract,
	multyply,
	divide,
};

export default calculator;
```

## 추가문법
```js
/** as키워드로 별명을 줄수있다. */
import {PI, add as addNumber} from './calculator.mjs';

console.log(addNumber(1,2));
```

```js
/** named export 한꺼번에 하기 */
const PI = 3.14;

function add(a, b) { 
  return a + b;
}

function subtract(a, b) { 
  return a - b;
}

function multiply(a, b) { 
  return a * b;
}

function divide(a, b) { 
  return a / b;
}

// 하나하나 named export 시킨것과 똑같다.
export { PI, add, subtract, multiply, divide };

// export에도 별명을 주면서 공개시킬수있다.
// export { PI, add as addNumbers, substract, multiplay, divide};

// ------
// import시킬때도 똑같다.

import { PI, add, substract, multyply, divide } from './calculator.mjs'

// export에서 별명을 주었다면 import시킬때도 그렇게 사용해야된다.
// import { PI, addNumbers ...}

/** 전부 가져오기 */
// 이런 방식을 namespace import라고도 부른다. as키워드로 이름을 지정해주고, 이름 뒤에 점 표기법을 이용해서 변수남 함수에 접근할 수 있다.
// 일반적으로 named import로 필요한 것만 가져와서 쓰고 꼭 필요한 경우에만 namespace import를 활용해야한다.
import * as calculator from './calculator.mjs'

console.log(calculator.PI);
console.log(calculator.add(1,2));
console.log(calculator.subtract(1,2));
```

## 정리
- 노드 환경에서는 .mjs확장자로 저장해야하고, 모듈 문법을 사용하면 파일에서 필요한 것을 내보내고 다른 파일에서 가져올수있다.
- export(내보내기): named export, default export 2가지
- 여러함수와 변수를 export할려면 네임드로
- 파일에서 하나의 메인 함수나 변수를 export하고 싶을 때는 default export를 쓴다.

- function과 class는 선언과 동시에 export default할수있지만 const와 let은 선언 이후에 export default를 해야 한다.
```js
/** default export는 파일당 한번이고 위에 말에 예시는 아래 코드를 참조한다. */
const foo = 1;
export default foo;

let foo = 1;
export default foo;

export default function foo() {

}

export default class foo() {

}
```
